# Microsoft Clarity API - Comprehensive Research

**Project:** televika.com
**Date:** 2025-11-24
**Purpose:** UX Research & Product Management Insights

---

## Executive Summary

Microsoft Clarity provides a powerful, free analytics platform focused on behavioral insights through session recordings, heatmaps, and user interaction data. The Data Export API enables programmatic access to aggregated metrics for integration into custom analytics workflows.

**Key Capabilities:**
- Session recording and playback (visual reconstruction)
- 5 types of heatmaps (Click, Scroll, Area, Conversion, Attention)
- Frustration signal detection (rage clicks, dead clicks, quick backs)
- 12-month visitor journey tracking
- Data Export API for aggregated metrics
- Custom event and tag tracking

**Key Limitations:**
- API rate limit: 10 requests per day
- Historical data via API: 3 days maximum
- No raw session data export (only aggregated metrics)
- Recording retention: 30 days standard, 13 months for selected sessions

---

## 1. Complete List of Available Data Types

### A. Data Export API (Programmatic Access)

**Primary Endpoint:**
`GET https://www.clarity.ms/export-data/api/v1/project-live-insights`

**Authentication:**
JWT Bearer Token (generated by project administrators)

**Data Format:**
JSON with UTC timezone, aggregated metrics over 1-3 day periods

**Capabilities:**
- Aggregated dashboard metrics
- Dimensional breakdowns (up to 3 dimensions per request)
- Time-series data
- Historical analysis (1-3 days maximum)

### B. Session Recordings

**Description:**
Visual reconstruction of user sessions (not actual video recordings)

**Features:**
- Step-by-step playback of user interactions
- Click, scroll, and navigation tracking
- Mouse movement visualization
- Mobile touch gesture capture
- AI-based session summarization via Copilot

**Metadata Available:**
- Entry and exit pages
- Referral sources
- Device information (type, browser, OS)
- Click counts and patterns
- User identifiers (Clarity ID, Custom ID)
- Geographic location
- Session duration and timestamps

**Retention Policy:**
- Standard: 30 days
- Extended: 1% of sessions or 10/day kept for 13 months
- Favorited: Manually selected sessions kept for 13 months
- Upgraded: High-priority sessions retained longer

**Limitations:**
- Maximum 100,000 recordings per project daily
- Viewable only through Clarity UI (no video file export)

### C. Heatmaps (5 Types)

#### 1. Click Maps
- Element-based click tracking (not pixel-based)
- Works across different viewport sizes
- Identifies clicked elements precisely
- Captures clicks on non-interactive elements

#### 2. Scroll Maps
- Scroll depth visualization with percentages
- Shows how far users scroll down pages
- Identifies content visibility issues
- Heat intensity indicates scroll frequency

#### 3. Area Maps
- Click aggregation within selected page regions
- Click-through rate (CTR) by area
- Compare performance across different zones
- Custom area definition

#### 4. Conversion Maps (E-commerce)
- E-commerce specific conversion tracking
- Purchase behavior visualization
- Shopper journey analysis
- Conversion funnel optimization

#### 5. Attention Maps
- Time spent on page elements
- Focus area identification
- Element engagement measurement
- Visual attention patterns

**Common Features:**
- Downloadable as images
- Filterable by segment, date, device
- AI-powered insights
- Shareable across teams

### D. Visitor Profiles

**Duration:** 12-month visitor history

**Cross-Platform Tracking:**
- Cross-device identification
- Cross-browser continuity
- Unified visitor view

**Profile Components:**

**Identity Data:**
- Clarity ID (auto-generated)
- Custom User ID (optional, hashed client-side)
- Custom Session ID (optional)
- Friendly Name (optional)

**Session History:**
- Complete visitor journey across all sessions
- Chronological interaction timeline
- Session count and frequency
- First and last visit dates

**Geographic Data:**
- Country/Region
- State/Province
- City
- IP-based geolocation

**Technology Profile:**
- Browser type and version
- Device type (Desktop, Mobile, Tablet)
- Operating System
- Screen resolution

**Behavioral Summary:**
- Total sessions
- Total engagement time
- Pages visited
- Frustration signals encountered

### E. Custom Data Collection

**Custom User IDs**
- Track users across devices and browsers
- Client-side hashing for privacy
- Persistent identification
- Implementation: `window.clarity("identify", "custom-id")`

**Custom Session IDs**
- Organize interactions within sessions
- Group related activities
- Implementation: `window.clarity("identify", "", "custom-session-id")`

**Custom Page IDs**
- Distinguish specific pages beyond URL
- A/B test variant tracking
- Dynamic page identification
- Implementation: `window.clarity("identify", "", "", "custom-page-id")`

**Custom Tags**
- Arbitrary key-value tracking
- Segment sessions by attributes
- User state tracking (logged in, premium user, etc.)
- Implementation: `window.clarity("set", "key", "value")`

**Custom Events**
- User action logging
- Feature interaction tracking
- Conversion event marking
- Implementation: `window.clarity("event", "value")`

**Session Upgrade**
- Prioritize important recordings for retention
- Ensure critical sessions are saved beyond 30 days
- Implementation: `window.clarity("upgrade", "reason")`

---

## 2. Key Metrics and Data Points Available

### Traffic & Engagement Metrics

**totalSessionCount**
- Total number of sessions in selected period
- Includes both user and bot sessions
- Primary traffic volume indicator

**totalBotSessionCount**
- Bot sessions identified and filtered
- Ensures data accuracy
- Separates automated traffic

**distantUserCount**
- Distinct/unique users
- Deduplicated across sessions
- User reach metric

**PagesPerSessionPercentage**
- Average pages viewed per session
- Engagement depth indicator
- Navigation intensity measure

**Engagement Time**
- Active time users spend with content
- Excludes idle time
- True interaction measurement

**Scroll Depth**
- Percentage-based scroll measurement
- Content visibility indicator
- Page length effectiveness

**Live Users**
- Real-time active users (last minute)
- Current site activity
- Peak usage identification

**New vs. Returning Users**
- User type segmentation
- Ratio of first-time vs repeat visitors
- Loyalty indicator

### Frustration/Usability Metrics (Semantic Metrics)

**Rage Clicks**
- Rapid, clustered clicking on same element
- Strong frustration indicator
- UI responsiveness issues
- Broken functionality signals

**Dead Clicks**
- Clicks with no feedback or response
- Perceived clickable elements that aren't
- Latency or loading issues
- Confusion points

**Excessive Scrolling**
- Abnormally high vertical scrolling
- Content search behavior
- Poor information architecture
- Accessibility issues

**Quick Backs**
- Users navigating away and returning quickly
- Unmet expectations
- Navigation problems
- Content relevance issues

**JavaScript Errors**
- Browser execution errors
- Technical issues affecting UX
- Code quality problems
- Compatibility issues

**Error Clicks**
- Clicks immediately before JS errors
- User actions triggering bugs
- Problematic interaction patterns
- Root cause identification

**Script Error Count**
- Total errors per session
- Error frequency measurement
- Technical debt impact

### Interaction Metrics

**Click Counts**
- Total clicks per session
- Overall interaction level
- Engagement intensity

**First Clicks**
- Initial user clicks on page entry
- Entry point behavior
- Primary call-to-action effectiveness

**Last Clicks**
- Final clicks before leaving
- Exit intent signals
- Conversion point identification

**Cursor Movement**
- Mouse movements tracked
- Swipes on mobile/tablet
- User attention indicators
- Hesitation patterns

**Clicked Text**
- Specific text element clicks
- Content engagement
- Link and button interaction

**Click Dwell Time**
- Time spent on clicked pages
- Page value measurement
- Content quality indicator

### Available Dimensions (for Segmentation)

**Technology Dimensions:**
- Browser (Chrome, Firefox, Safari, Edge, etc.)
- Device (Desktop, Mobile, Tablet)
- OS (Windows, macOS, iOS, Android, Linux, etc.)

**Geographic Dimensions:**
- Country/Region
- State/Province
- City

**Traffic Source Dimensions:**
- Source (google, facebook, direct, etc.)
- Medium (organic, cpc, referral, email, etc.)
- Campaign (UTM campaign parameter)
- Channel (Organic Search, Direct, Paid Search, etc.)

**Content Dimensions:**
- URL (Page path)
- Page Title
- Referrer URL (Traffic source page)

**Custom Dimensions:**
- Custom Tags (user-defined)
- Custom Events (user-defined)
- User Segments (predefined or custom)

### E-commerce Specific Metrics

**Shopper Types**
- Occasional Browser
- Occasional Shopper
- Loyal Browser
- Loyal Shopper

**Conversion Rate Segments**
- Low Conversion
- Medium Conversion
- High Conversion

**Purchase Rate**
- E-commerce conversion percentage
- Transaction completion rate

**Purchase Prices**
- Transaction value tracking
- Average order value
- Revenue per session

### Content & Navigation Metrics

**Popular Pages**
- Most visited pages
- High-traffic content
- Feature adoption indicators

**Inactive Pages**
- Underperforming content
- Low-traffic pages
- Deprecation candidates

**Entry Pages**
- Session start points
- Landing page performance
- First impression pages

**Exit Pages**
- Session end points
- Drop-off locations
- Conversion blockers

**Referral URLs**
- Traffic source pages
- Inbound link tracking
- Partnership effectiveness

### Advanced Features

**Smart Events**
- Automatically captured key user actions
- Customizable event definitions
- Intelligent event detection
- No manual coding required

**Funnels**
- Sequential action tracking
- Conversion path analysis
- Drop-off point identification
- Multi-step process optimization

**Intentions**
- Session quality categorization
- User intent classification
- Engagement level scoring
- Behavioral pattern grouping

---

## 3. Specific Insights for UX Research

### User Behavior Pattern Analysis

**Session Replay Analysis**
- Watch actual user interactions frame-by-frame
- Understand user intent and motivation
- Identify unexpected usage patterns
- Discover workarounds users create
- Validate or challenge assumptions
- Generate qualitative insights

**Journey Mapping**
- Track complete user paths across 12 months
- Cross-device and cross-browser continuity
- Multi-session behavior patterns
- User lifecycle visualization
- Returning user evolution
- Long-term engagement trends

**Behavioral Segmentation**
- Filter recordings by custom criteria
- Group users by frustration signals
- Segment by user attributes (device, location, etc.)
- Compare behavior across segments
- Identify outlier patterns
- Create user personas from data

### Usability Issue Identification

**Dead Click Detection**
- Identify broken features and links
- Find latency issues causing perceived unresponsiveness
- Discover confusing UI elements users expect to be clickable
- Locate styling issues (elements looking interactive when they're not)
- Prioritize fixes based on frequency
- Validate bug reports with visual evidence

**Rage Click Analysis**
- Pinpoint specific elements causing frustration
- Identify non-responsive buttons or forms
- Find slow-loading interactive elements
- Discover unexpected behavior triggers
- Quantify frustration by page/element
- Track improvement after fixes

**Excessive Scroll Detection**
- Find accessibility issues (text too small, poor contrast)
- Identify poor content relevance or organization
- Discover confusing navigation structures
- Locate missing information forcing users to search
- Detect content gaps in user flow
- Validate information architecture

**Quick Back Analysis**
- Identify where navigation fails user expectations
- Find misleading link text or labels
- Discover pages not matching promised content
- Locate confusing navigation paths
- Detect poor mobile navigation
- Validate menu structure effectiveness

### Interaction Insights

**Click Pattern Analysis**
- Understand what users try to interact with
- Identify clicks on non-interactive elements
- Discover missing interactive elements users expect
- Find ignored calls-to-action
- Validate visual hierarchy assumptions
- Optimize button and link placement

**First/Last Click Analysis**
- Learn entry patterns and user priorities
- Identify primary goals users pursue
- Understand exit points and reasons
- Find conversion path starting points
- Detect abandoned actions
- Optimize landing page effectiveness

**Attention Mapping**
- See which page elements capture user focus
- Identify elements that hold attention longest
- Find ignored important content
- Discover distraction sources
- Validate content prioritization
- Optimize page layout for attention flow

**Scroll Depth Analysis**
- Determine content visibility and consumption
- Identify "fold" effectiveness across devices
- Find content that's never seen
- Validate page length appropriateness
- Detect engagement drop-off points
- Optimize content placement and hierarchy

### Content & Layout Effectiveness

**Element-based Click Maps**
- Precise click tracking on specific elements
- Works across different viewport sizes
- Adapts to responsive design changes
- Identifies exact clicked elements
- Compares element performance
- Validates design decisions with data

**Area Analysis**
- Compare interaction rates across page regions
- Measure effectiveness of different zones
- Identify high and low-value areas
- Optimize layout based on actual usage
- Balance content distribution
- Validate grid and section designs

**CTR by Area**
- Measure click-through rates for specific zones
- Compare CTA performance by placement
- Identify optimal positions for important elements
- Test layout variations objectively
- Quantify design impact on behavior
- Prioritize high-impact optimizations

**Content Engagement**
- Verify call-to-action visibility
- Validate information hierarchy effectiveness
- Measure content consumption depth
- Identify engaging vs boring content
- Optimize content length and format
- Test headline and copy effectiveness

### Cross-Device Experience

**Device-specific Patterns**
- Compare behavior across desktop, mobile, tablet
- Identify device-specific usability issues
- Validate responsive design effectiveness
- Find mobile-specific frustrations
- Optimize for primary device types
- Test cross-device consistency

**Browser Compatibility Issues**
- Identify browser-specific problems
- Find rendering inconsistencies
- Discover JavaScript errors by browser
- Validate cross-browser testing coverage
- Prioritize browser support decisions
- Track legacy browser issues

**Responsive Design Validation**
- Ensure consistent experience across viewports
- Find breakpoint issues
- Identify elements that don't adapt properly
- Validate touch vs mouse interactions
- Test mobile navigation patterns
- Optimize for common screen sizes

### AI-Powered Insights

**Copilot Analysis**
- Automated session summarization
- Pattern identification across sessions
- Natural language insight generation
- Anomaly detection
- Quick issue prioritization
- Time-saving analysis assistance

**Heatmap Insights**
- AI-assisted behavioral pattern analysis
- Automatic trend detection
- Comparison across time periods
- Segment performance analysis
- Recommendation generation
- Data storytelling assistance

**Smart Event Detection**
- Automatic capture of significant user actions
- Intelligent event classification
- Pattern-based event suggestion
- Reduces manual event coding
- Discovers unexpected important interactions
- Adapts to site-specific behaviors

### Research Methodology Support

**Filter and Segment Capabilities**
- Custom filters on any dimension
- Complex filter combinations
- Saved segments for repeated analysis
- Regex pattern matching
- Path operators for journey analysis
- Audience building and management

**12-Month Historical Analysis**
- Long-term pattern identification
- Seasonal trend detection
- User evolution tracking
- Feature adoption over time
- Longitudinal behavior studies
- Historical comparison benchmarks

**Real-time Monitoring**
- Live session recordings
- Immediate observation capability
- Real-time user testing
- Live issue detection
- Instant feedback on changes
- Current user behavior monitoring

**Downloadable Data**
- Share findings across teams
- Create presentations with visuals
- Export for further analysis
- Archive important sessions
- Collaborate on insights
- Document research findings

### Research Applications

**Usability Testing Supplement**
- Validate lab findings with real-world data
- Identify issues missed in controlled testing
- Scale qualitative research quantitatively
- Find edge cases and rare scenarios
- Track issue frequency and impact
- Prioritize research-based recommendations

**A/B Testing Enhancement**
- Understand why variants perform differently
- See actual user interactions with variants
- Identify unexpected behaviors in experiments
- Validate statistical findings qualitatively
- Find confounding factors
- Generate hypotheses for follow-up tests

**User Research Discovery**
- Generate research questions from data
- Identify users for follow-up interviews
- Find interesting edge cases to explore
- Discover new research areas
- Validate personas and user models
- Ground research in real behavior

---

## 4. Specific Insights for Product Management

### Conversion & Performance Metrics

**Funnel Analysis**
- Track user progression through conversion paths
- Define sequential steps in user journey
- Identify drop-off points in funnels
- Measure completion rates per step
- Compare funnel performance across segments
- Optimize conversion path effectiveness

**Conversion Maps (E-commerce)**
- Identify high-performing elements driving purchases
- Find conversion blockers and friction points
- Visualize shopper journey to transaction
- Compare converter vs non-converter behavior
- Optimize product pages for conversion
- Test checkout flow effectiveness

**Quick Back Rate**
- Measure navigation effectiveness
- Validate content relevance to user intent
- Identify misleading navigation labels
- Find UX issues causing immediate exits
- Test search result quality
- Optimize internal linking

**Smart Events for Feature Tracking**
- Track key feature usage automatically
- Measure action completion rates
- Identify feature adoption patterns
- Compare feature popularity
- Validate product priorities with data
- Generate usage-based roadmaps

### Feature Usage & Prioritization

**Popular Pages**
- Identify most-used features and content
- Measure feature adoption rates
- Validate development priorities
- Find unexpected usage patterns
- Justify resource allocation
- Celebrate successful launches

**Inactive Pages**
- Find underutilized features
- Identify deprecation candidates
- Discover features needing promotion
- Find technical debt to clean up
- Optimize development focus
- Inform sunsetting decisions

**Click Distribution**
- Understand which features get user attention
- Identify ignored features
- Measure call-to-action effectiveness
- Find navigation blind spots
- Validate feature discoverability
- Prioritize UI real estate allocation

**Engagement Time by Page**
- Measure time investment in features
- Identify high-value content
- Find features with low engagement
- Validate feature complexity assumptions
- Optimize feature depth vs breadth
- Justify development of engaging features

### Error & Quality Monitoring

**JavaScript Error Tracking**
- Identify technical issues affecting users
- Quantify error impact on experience
- Track error frequency and severity
- Connect errors to user actions
- Prioritize bug fixes by impact
- Monitor technical quality metrics

**Error Click Analysis**
- Connect user actions to system failures
- Identify reproducible error patterns
- Find error triggers in user workflows
- Understand error context
- Validate bug fix effectiveness
- Improve error prevention

**Dead Click Monitoring**
- Track potential bugs and broken features
- Find performance issues causing unresponsiveness
- Identify scope creep in UI expectations
- Validate loading states effectiveness
- Prioritize performance optimizations
- Monitor release quality

**Script Error Count**
- Quantify technical debt impact on users
- Measure code quality over time
- Track error trends after releases
- Compare error rates across browsers/devices
- Set quality benchmarks and goals
- Justify engineering investment in stability

### User Acquisition & Attribution

**UTM Parameter Tracking**
- Source attribution (google, facebook, email, etc.)
- Medium performance (organic, cpc, referral, etc.)
- Campaign effectiveness measurement
- Track marketing ROI
- Compare channel quality
- Optimize marketing spend

**Channel Analysis**
- Compare performance across marketing channels
- Identify highest quality traffic sources
- Measure channel-specific engagement
- Find underperforming acquisition channels
- Optimize channel mix
- Justify marketing investments

**Referral Analysis**
- Understand traffic source pages
- Track partnership effectiveness
- Identify valuable backlinks
- Find unexpected traffic sources
- Optimize referral relationships
- Discover viral content

**Geographic Distribution**
- Target market performance by country
- Regional engagement comparisons
- Identify expansion opportunities
- Find localization needs
- Optimize for key markets
- Validate international strategy

### Segmentation & Targeting

**User Type Analysis**
- Compare new vs returning user behavior
- Measure retention effectiveness
- Identify activation patterns
- Find retention issues
- Optimize for each user lifecycle stage
- Validate onboarding effectiveness

**Device/Browser Segmentation**
- Platform-specific optimization opportunities
- Identify primary user platforms
- Find device-specific issues
- Prioritize mobile vs desktop development
- Validate cross-platform strategy
- Optimize for user base reality

**Shopper Classification (E-commerce)**
- Occasional vs loyal customer patterns
- Browser vs shopper behavior differences
- Customer lifetime value indicators
- Segment-specific optimization opportunities
- Targeted marketing strategies
- Personalization opportunities

**Conversion Rate Segments**
- Low/medium/high converter characteristics
- Understand what drives conversion
- Identify converter behavior patterns
- Find barriers for low converters
- Optimize for segment-specific needs
- Test targeted interventions

### Product Decision Support

**A/B Testing Validation**
- Custom tags for experiment tracking
- Segment users by experiment variant
- Measure behavioral impact beyond metrics
- Understand why variants perform differently
- Validate test results qualitatively
- Make confident launch decisions

**Feature Adoption Tracking**
- Track usage of new features via custom events
- Measure adoption rate over time
- Identify adoption barriers
- Find power users of new features
- Validate feature success
- Inform iteration priorities

**User Journey Analysis**
- Understand complete customer lifecycle
- Identify critical path to conversion
- Find common journey patterns
- Discover journey friction points
- Optimize end-to-end experience
- Validate customer lifecycle models

**Session Upgrade**
- Prioritize important user recordings
- Save VIP customer sessions
- Document critical bugs with evidence
- Keep conversion sessions for analysis
- Retain problematic sessions beyond 30 days
- Build case study evidence

### Integration & Automation

**Data Export API**
- Integrate Clarity data into BI tools
- Combine with other data sources
- Create custom dashboards
- Automate reporting workflows
- Build data pipelines
- Enable data-driven culture

**Power BI Integration**
- Direct dashboard connection
- Custom report building
- Combine Clarity with business metrics
- Executive reporting
- Stakeholder communication
- Data democratization

**Programmatic Access**
- Automate data retrieval for regular reporting
- Schedule metric collection
- Build monitoring systems
- Create alerts on metric changes
- Feed ML models
- Enable advanced analytics

**Custom Tagging Strategy**
- Flexible data collection for product-specific metrics
- Track business-specific events
- Segment by product attributes
- A/B test tracking
- User state tracking (subscription tier, etc.)
- Custom dimension creation

### Business Metrics

**Pages Per Session**
- Engagement depth indicator
- Content quality signal
- Navigation effectiveness measure
- User interest level
- Compare across segments
- Track over time

**Total Time on Site**
- Overall engagement measurement
- Session value indicator
- Content effectiveness signal
- User satisfaction proxy
- Compare across traffic sources
- Validate content strategy

**Average Session Duration**
- Session quality metric
- Engagement benchmark
- Compare across segments and time
- Track impact of changes
- Industry comparison
- Goal setting metric

**Bot Traffic Filtering**
- Clean data for accurate analysis
- Understand true user behavior
- Avoid skewed metrics
- Accurate user counts
- Valid engagement metrics
- Trustworthy decision-making data

### Product Strategy Applications

**Roadmap Prioritization**
- Data-driven feature prioritization
- Usage-based investment decisions
- Identify high-impact opportunities
- Validate product hypotheses
- Justify resource allocation
- Build data-backed business cases

**Competitive Benchmarking**
- Industry standard comparisons
- Best practice validation
- Performance gap identification
- Innovation opportunity discovery
- Competitive advantage measurement
- Market position understanding

**Customer Success Insights**
- Identify successful user patterns
- Find at-risk user behaviors
- Optimize onboarding journeys
- Improve feature adoption
- Reduce churn indicators
- Increase customer lifetime value

---

## 5. Data Export Formats and Capabilities

### Data Export API Specifications

#### Authentication Method

**Token Type:** JWT (JSON Web Token)
**Header Format:** `Authorization: Bearer <Your_API_Token>`

**Token Generation:**
- Available only to project administrators
- Location: Settings → Data Export → Generate new API token
- Naming requirements: 4-32 characters, alphanumeric with hyphens, underscores, or periods
- Multiple tokens per project supported
- Can be named for different purposes/environments

**Security:**
- Client-side hashing of custom identifiers
- GDPR compliance features
- Content masking capabilities

#### API Endpoint & Request Structure

**Base URL:**
```
GET https://www.clarity.ms/export-data/api/v1/project-live-insights
```

**Required Parameters:**
- `numOfDays` - Integer (1, 2, or 3): Days of historical data to retrieve

**Optional Parameters:**
- `dimension1` - String: First dimension breakdown (e.g., "Browser", "Device", "Country")
- `dimension2` - String: Second dimension breakdown
- `dimension3` - String: Third dimension breakdown

**Example Request:**
```bash
curl -X GET "https://www.clarity.ms/export-data/api/v1/project-live-insights?numOfDays=3&dimension1=Device&dimension2=Country" \
  -H "Authorization: Bearer eyJhbGciOi..."
```

#### Response Format

**Content Type:** `application/json`
**Timezone:** UTC
**Structure:** Array of metric objects

**Response Schema:**
```json
[
  {
    "metricName": "Traffic",
    "information": [
      {
        "totalSessionCount": "9554",
        "totalBotSessionCount": "8369",
        "distantUserCount": "189733",
        "PagesPerSessionPercentage": 1.0931,
        "OS": "Other"
      },
      {
        "totalSessionCount": "291942",
        "totalBotSessionCount": "31076",
        "distantUserCount": "212836",
        "PagesPerSessionPercentage": 2.2609,
        "OS": "Android"
      }
    ]
  },
  {
    "metricName": "Engagement",
    "information": [...]
  }
]
```

**Metric Categories Returned:**
- Traffic (sessions, users, pages per session)
- Engagement (time, scroll depth)
- Frustration (rage clicks, dead clicks, quick backs)
- Errors (JavaScript errors, error clicks)
- Content (popular pages, inactive pages)

**Field Data Types:**
- Counts: String representation of integers
- Percentages: Float/decimal numbers
- Dimensions: Strings (dimension values)

#### API Limitations & Constraints

**Rate Limiting:**
- **10 requests per project per day**
- Counter resets at midnight UTC
- Exceeding limit returns error response
- Plan ahead for multi-dimension analysis

**Data Range:**
- Maximum 3 days of historical data per request
- No pagination support
- Cannot access older historical data via API
- Use dashboard for longer historical views

**Dimensional Constraints:**
- Maximum 3 dimensions per request
- Dimensions must be from approved list
- Not all dimension combinations may return data
- Some dimensions may have limited values

**Response Size:**
- Limited to 1,000 rows per response
- No pagination available
- Large dimension combinations may be truncated
- Filter or reduce dimensions if hitting limit

**Session Recording Limits:**
- Maximum 100,000 recordings per project per day
- Exceeding limit stops new recordings
- Existing recordings remain accessible
- Counter resets daily

#### Available Export Formats

**1. JSON (API)**
- Primary Data Export API format
- Structured, machine-readable
- Easy integration with tools
- Programmatic access
- Real-time data retrieval

**2. CSV (Dashboard)**
- Downloadable from Clarity dashboard
- Human-readable tabular format
- Excel-compatible
- Manual export process
- Good for ad-hoc analysis

**3. Power BI Integration**
- Direct connection to Clarity data
- Build custom dashboards
- Combine with other data sources
- Automatic refresh capabilities
- Enterprise reporting

**4. Session Recording URLs**
- Shareable links to specific recordings
- No download of video files
- View in Clarity interface
- Collaborate across teams
- Time-stamped linking

**5. Heatmap Images**
- Download heatmap visualizations
- PNG/image format
- Include in presentations
- Share outside Clarity platform
- Visual documentation

**6. Visitor Profile Data**
- Export individual user journey data
- Available from visitor profile view
- Contains session history
- Manual export process

### Client-Side JavaScript API

#### Implementation

**Global Function:** `window.clarity()`
**No API Key Required:** Uses Clarity Project ID from tracking code

#### Available Methods

**Cookie Consent Management:**
```javascript
// Must be called before Clarity loads if consent required
window.clarity('consent')
```

**Custom Identifiers:**
```javascript
// Full identification
window.clarity("identify", "custom-id", "custom-session-id", "custom-page-id", "friendly-name")

// Just custom user ID
window.clarity("identify", "custom-id")

// Custom session ID
window.clarity("identify", "", "custom-session-id")

// Custom page ID
window.clarity("identify", "", "", "custom-page-id")
```

**Custom Tags:**
```javascript
// Set custom tag
window.clarity("set", "key", "value")

// Examples
window.clarity("set", "subscription", "premium")
window.clarity("set", "experiment_variant", "B")
window.clarity("set", "user_role", "admin")
```

**Custom Events:**
```javascript
// Log custom event
window.clarity("event", "value")

// Examples
window.clarity("event", "purchase_completed")
window.clarity("event", "video_played")
window.clarity("event", "form_abandoned")
```

**Session Upgrade:**
```javascript
// Prioritize this session for retention
window.clarity("upgrade", "reason")

// Examples
window.clarity("upgrade", "VIP_customer")
window.clarity("upgrade", "conversion_completed")
window.clarity("upgrade", "bug_encountered")
```

#### Key Features

**No Additional API Key Required:**
- Clarity Project ID serves as authentication
- Embedded in tracking script
- No token management needed
- Works automatically once script installed

**Client-side Hashing:**
- Custom IDs hashed before transmission
- Privacy protection
- Cannot reverse engineer user identity
- Secure by default

**Real-time Tracking:**
- Immediate data collection
- No delay in event capture
- Live session updates
- Instant availability in dashboard

**No Cost:**
- Free JavaScript API usage
- No usage limits
- No per-event charges
- Unlimited custom events and tags

### Additional Export & Integration Options

#### Power BI Direct Connection

**Setup:**
1. Open Power BI Desktop
2. Get Data → Web
3. Enter Clarity API endpoint URL
4. Add Authorization header with Bearer token
5. Transform JSON to table format
6. Set up refresh schedule

**Benefits:**
- Automated data refresh
- Custom visualizations
- Combine with other business data
- Executive dashboards
- Enterprise sharing

#### Microsoft MCP Server Integration

**Purpose:** AI-assisted analytics fetching
**Capability:** Natural language queries to retrieve Clarity data
**Use Case:** ChatGPT/AI integration for insight generation

#### Custom Applications

**REST API Integration:**
- Any programming language with HTTP support
- Python, JavaScript, Ruby, Java, etc.
- Build custom tools and workflows
- Automate reporting pipelines
- Create monitoring systems

**Business Intelligence Tools:**
- Tableau integration via API
- Google Data Studio connections
- Custom BI platform integration
- Data warehouse loading
- ETL pipeline incorporation

### Data Privacy & Security Features

#### GDPR Compliance

**Cookie Consent:**
```javascript
window.clarity('consent')
```
- Must be called before script loads
- Respects user privacy choices
- Required in GDPR regions

**Content Masking:**
```html
<!-- Mask sensitive content -->
<div data-clarity-mask="true">
  Sensitive information here
</div>
```
- Hides content in recordings
- Protects PII
- Applied automatically to inputs by default

**Content Unmasking:**
```html
<!-- Unmask specific content -->
<div data-clarity-unmask="true">
  Safe to show content here
</div>
```
- Overrides default masking on inputs
- Use with caution
- Only for non-sensitive data

#### Security Measures

**Client-side Hashing:**
- Custom user IDs hashed before transmission
- Cannot reverse engineer identity
- Privacy by default

**Age Restriction:**
- Not for sites targeting users under 18
- COPPA compliance
- Terms of service requirement

**Data Retention Controls:**
- Automatic 30-day deletion
- Extended retention opt-in only
- Manual session deletion available
- Control over data lifecycle

#### Access Control

**Project-level Permissions:**
- Administrator (full access, token generation)
- Member (view and analyze)
- Viewer (read-only access)
- No public access

**API Token Management:**
- Generated by admins only
- Named tokens for tracking usage
- Revocable at any time
- Multiple tokens per project

### Integration Workflow Recommendations

#### For UX Researchers

**1. Daily Recording Review:**
- Manual dashboard access
- Filter by frustration signals
- Export heatmap images for reports
- Share recording URLs with team

**2. Weekly Analysis:**
- API data export for metric trends
- Compare week-over-week performance
- Document findings in reports
- Archive important sessions

**3. Research Reports:**
- Combine recordings, heatmaps, and metrics
- Export visuals and data
- Quantitative + qualitative insights
- Stakeholder presentations

#### For Product Managers

**1. Automated Daily Metrics:**
- API data export to database
- Build custom dashboards
- Monitor key metrics
- Alert on anomalies

**2. Feature Launch Tracking:**
- Custom events for new features
- Track adoption metrics via API
- Compare before/after performance
- Validate launch success

**3. Executive Reporting:**
- Power BI integration
- Combine with business metrics
- Automated weekly reports
- Trend analysis and forecasting

#### For Data Analysts

**1. Data Pipeline:**
- Scheduled API calls (within 10/day limit)
- Store historical data in warehouse
- Combine with Google Analytics, sales data, etc.
- Advanced statistical analysis

**2. Predictive Analytics:**
- Export behavioral patterns
- Feed ML models
- Predict churn, conversion
- Optimize in real-time

**3. Cross-platform Analysis:**
- Merge Clarity data with other sources
- Unified customer view
- Attribution modeling
- Full-funnel insights

---

## Key Distinctions & Limitations

### What Clarity API DOES Provide

✅ **Aggregated dashboard metrics** via Data Export API (JSON format)
✅ **Session recording URLs** and metadata (viewable in Clarity UI)
✅ **Heatmap visualizations** (downloadable as images)
✅ **Custom event tracking** and tagging capabilities
✅ **Visitor profile data** with 12-month history
✅ **Real-time behavioral insights**
✅ **Frustration signal detection** (rage clicks, dead clicks, etc.)
✅ **Cross-device user tracking**
✅ **Free unlimited usage** (within rate limits)

### What Clarity API DOES NOT Provide

❌ **Individual session-level data export** via API (only aggregated metrics available)
❌ **Session recording video files** (reconstructions only viewable in Clarity interface)
❌ **Raw click coordinates** (uses element-based tracking instead)
❌ **Unlimited historical data** (3-day limit for API, 30 days standard for recordings)
❌ **Traditional bounce rate** (focuses on engagement metrics instead)
❌ **Unlimited API requests** (10 per project per day limit)
❌ **Real-time streaming API** (batch/polling model only)
❌ **Custom metric calculations** via API (predefined metrics only)

### Comparison with Google Analytics

**Clarity Strengths:**
- Visual session recordings
- Heatmaps and interaction data
- Frustration signal detection
- Element-level click tracking
- Free with no data sampling
- No visitor limits

**Google Analytics Strengths:**
- More comprehensive traffic analytics
- Advanced segmentation
- Custom report builder
- Real-time reporting API
- Predictive metrics
- Cross-property reporting

**Best Practice:**
- Use both tools together
- GA4 for traffic and conversion analytics
- Clarity for behavioral insights and UX analysis
- Complementary, not competitive

---

## Implementation Best Practices

### API Usage Strategy

**Maximize Value Within 10 Requests/Day:**
1. **Daily Base Metrics** (1 request): Get overall metrics without dimensions
2. **Device Breakdown** (1 request): Understand mobile vs desktop behavior
3. **Country Breakdown** (1 request): Geographic performance
4. **Browser + Device** (1 request): Two dimensions for detailed segmentation
5. **Source + Medium** (1 request): Marketing attribution
6. **Reserve 5 requests**: Ad-hoc analysis, troubleshooting, special reports

**Historical Data Strategy:**
- API provides only 3 days of data
- **Store data locally** to build historical database
- Run daily automated exports
- Build your own historical trend analysis
- Use API for recent data, database for trends

**Dimension Optimization:**
- Start with single dimension requests
- Add dimensions based on insights needed
- Test dimension combinations before production
- Monitor response sizes (1,000 row limit)

### Custom Tagging Strategy

**User Identification:**
```javascript
// On login
window.clarity("identify", userId)

// Set user attributes
window.clarity("set", "subscription_tier", "premium")
window.clarity("set", "account_age_days", "90")
```

**Feature Usage Tracking:**
```javascript
// Track feature interactions
window.clarity("event", "feature_search_used")
window.clarity("event", "export_clicked")
window.clarity("event", "filter_applied")
```

**Conversion Events:**
```javascript
// Mark important conversions
window.clarity("event", "signup_completed")
window.clarity("upgrade", "conversion")
```

**A/B Test Tracking:**
```javascript
// Tag experiment variants
window.clarity("set", "experiment_hero", "variant_B")
window.clarity("set", "experiment_checkout", "variant_A")
```

### Recording Management

**Session Upgrade Strategy:**
- Upgrade on conversion: `window.clarity("upgrade", "purchase")`
- Upgrade on error: `window.clarity("upgrade", "error_" + errorCode)`
- Upgrade VIP users: `window.clarity("upgrade", "vip_user")`
- Keep critical user sessions beyond 30 days

**Favorite Important Sessions:**
- Manually favorite sessions showing critical bugs
- Save excellent examples of successful journeys
- Archive sessions for case studies
- Keep evidence for stakeholder presentations

### Dashboard Usage

**For UX Researchers:**
- Filter recordings by frustration signals daily
- Review high-value conversions weekly
- Analyze heatmaps before major redesigns
- Track specific user journeys with visitor profiles

**For Product Managers:**
- Monitor popular and inactive pages weekly
- Track funnel performance after releases
- Review error metrics after deployments
- Use Smart Events for feature adoption tracking

**For Executives:**
- Weekly overview of key metrics
- Month-over-month trend analysis
- High-level heatmap insights
- Session examples for customer understanding

---

## Recommended Workflow for Your Use Case

### As UX Researcher

**Daily Tasks (5-10 minutes):**
1. Check dashboard for frustration signal spikes
2. Review 3-5 recordings filtered by rage clicks or dead clicks
3. Note patterns and issues in research log

**Weekly Tasks (1-2 hours):**
1. API export of weekly metrics (store locally)
2. Deep dive into specific page heatmaps
3. Analyze user journeys for key features
4. Create weekly insight report with recording examples

**Monthly Tasks (half day):**
1. Comprehensive heatmap analysis of key pages
2. Month-over-month metric comparison
3. Identify top 5 UX issues with evidence
4. Present findings with recordings and heatmaps

### As Product Manager

**Daily Tasks (5 minutes):**
1. Check live users and session counts
2. Review JavaScript error spikes
3. Monitor key funnel drop-offs

**Weekly Tasks (30-60 minutes):**
1. API export of traffic and engagement metrics
2. Review popular and inactive pages
3. Track feature adoption via custom events
4. Share key insights with team

**Monthly Tasks (2-3 hours):**
1. Comprehensive metric analysis via API
2. Feature usage and adoption report
3. Prioritization based on data
4. Executive dashboard update in Power BI

**Release Cycle:**
1. **Pre-release:** Set baseline metrics
2. **Post-release:** Monitor errors and frustration signals
3. **Week 1:** Track adoption and immediate issues
4. **Week 2-4:** Measure impact on key metrics
5. **Month 1:** Full success analysis

---

## Cost & Licensing

**Pricing:** Completely free
**No usage charges:** Unlimited sessions, recordings, and API calls (within rate limits)
**No data limits:** No visitor or pageview caps
**No credit card required**
**Commercial use allowed**

**Rate Limits (Only Constraints):**
- 10 API requests per project per day
- 100,000 session recordings per project per day
- 1,000 rows per API response

---

## Technical Support & Resources

**Official Documentation:**
- https://learn.microsoft.com/en-us/clarity/

**API Documentation:**
- https://learn.microsoft.com/en-us/clarity/setup-and-installation/clarity-api
- https://learn.microsoft.com/en-us/clarity/setup-and-installation/clarity-data-export-api

**Setup Guides:**
- https://learn.microsoft.com/en-us/clarity/setup-and-installation/

**Community:**
- Microsoft Tech Community forums
- GitHub discussions

---

## Summary & Recommendations

Microsoft Clarity provides exceptional **behavioral analytics** for UX research and product management, especially for understanding **how** users interact with your site (not just **what** they do). The Data Export API enables programmatic access to aggregated metrics, while the rich dashboard provides qualitative insights through session recordings and heatmaps.

**Primary Value:**
- Visual understanding of user behavior
- Frustration and usability issue detection
- Cross-device journey analysis
- Free and unlimited (within reasonable limits)

**Best Use Cases:**
- UX research and usability testing
- Product feature validation
- Conversion optimization
- Technical issue detection
- Customer experience improvement

**Limitations to Consider:**
- 10 API requests per day (requires strategic planning)
- 3-day historical data via API (need local storage for trends)
- No individual session data export (only aggregated)
- Recording retention requires active management

**Recommended Approach for televika.com:**
1. **Implement comprehensive custom tagging** for feature and conversion tracking
2. **Build local historical database** by daily API exports
3. **Establish routine for recording review** filtered by frustration signals
4. **Create automated dashboard** in Power BI for executive visibility
5. **Integrate with Google Analytics** for complete analytics picture
6. **Document UX issues** with recording evidence for prioritization

The combination of quantitative metrics (via API) and qualitative insights (via recordings and heatmaps) makes Clarity an invaluable tool for data-informed UX research and product management.
